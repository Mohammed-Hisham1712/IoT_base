                /*-----------------------------*/
                /*          File Data:         */
                /*-----------------------------*/
/*--------------------------------------------------------------
* File Usage : 
----------------------------------------------------------------
* Creators : 1-Mahmoud Eid
----------------------------------------------------------------
* History : Creation | 11/5/2023
----------------------------------------------------------------*/

                /*---------------------------*/
                /*          Content:         */
                /*---------------------------*/
/*-------------------------------------------------------------
1-Section 1:  Includes 
2-Section 2:  definitions
3-Section 3:  private data type 
4-Section 4:  private functions declaration
5-Section 5:
6-Section 6"
---------------------------------------------------------------*/

/*--------------Guard-----------*/
#ifndef BLINKING_OUTPUT_PRIVATE_H
#define BLINKING_OUTPUT_DRIVEN_PRIVATE_H

/*---------------------------------------------------------------*/
        /*-----------------------------------------*/
        /*          1-Section 1:  Includes         */
        /*-----------------------------------------*/
/*---------------------------------------------------------------*/
#include "types.h"
#include "pin_driven_handler_public.h"
/*---------------------------------------------------------------*/
        /*-------------------------------------------*/
        /*          2-Section 2:  definitions        */
        /*-------------------------------------------*/
/*---------------------------------------------------------------*/
#define BLINK_PIN_ON_OFF_FLAG           (1<<0)
#define BLINK_PIN_CURRENT_STATE_FLAG    (1<<1)
#define BLINK_PIN_TIMER_FLAG            (1<<2)

#include "blinking_output_public.h"
/*---------------------------------------------------------------*/
        /*--------------------------------------------------*/
        /*          3-Section 3:  private data type          */
        /*--------------------------------------------------*/
/*---------------------------------------------------------------*/


typedef struct 
{
    uint32_t timer_val ;
    BOOL     timer_state;
}blink_timer_t;


typedef struct blink_state_flags
{
    uint32_t blink_state:1;
    uint32_t blink_on_off:1;
    uint32_t blink_timer_state:1;
}blink_flags_t;

typedef struct 
{
    uint16_t blink_on_time;
    uint16_t blink_off_time;
    blink_timer_t timer;
    blink_flags_t blink_flags;
    PIN_DRIVEN_NUM blink_pin_num;    
}blink_pin_struct_t;

typedef struct 
{
    blink_pin_struct_t blink_pin[MAX_NUM_OF_BLINK_PINS];

}blink_pin_ctrl_t;

/*---------------------------------------------------------------*/
        /*-------------------------------------------------*/
        /*          4-Section 4:  private functions         */
        /*-------------------------------------------------*/
/*---------------------------------------------------------------*/
BOOL run_pin_blink_routine(blink_pin_t c_pin);
BOOL reset_blink_bin(blink_pin_t c_pin);

void timer_update(blink_timer_t * cp_timer);
void timer_reset(blink_timer_t * cp_timer);
void timer_start(blink_timer_t * cp_time);
/*---------------------------------------------------------------*/
            /*------------------------------*/
            /*          5-Section5:         */
            /*------------------------------*/
/*---------------------------------------------------------------*/

/*---------------------------------------------------------------*/
            /*------------------------------*/
            /*          6-Section6:         */
            /*------------------------------*/
/*---------------------------------------------------------------*/

/*---------------------------------------------------------------*/
            /*------------------------------*/
            /*          7-Section7:         */
            /*------------------------------*/
/*---------------------------------------------------------------*/

#endif  /*  guard end*/

